{% extends 'base.html.twig' %}
{% import '@App/theme1/breadcrumb.html.twig' as breadcrumb %}
{% import 'theme/action.html.twig' as action %}

{% set _title = 'Ficha Examen Auxiliar' %}
{% set _main_title = 'Editar' %}
{% set _section =  'ficha_evaluacion_index'%}

{% block _breadcrumb %}
    {{ breadcrumb.show2('Ficha Evaluacion', _section, 'Editar') }}
{% endblock %}

{% form_theme form _self %}

{% block _ficha_examen_auxiliar_detalles_entry_label -%}
{% endblock %}

{% block _ficha_examen_auxiliar_detalles_entry_widget -%}
    {% import 'theme/form.html.twig' as frm %}
    {{ frm.columnX(
        [
            frm.row(form.nombre),
            frm.row(form.valor),
        ],
        6
    ) }}
{% endblock %}

{% block _main %}
    {{ include('ficha_examen_auxiliar/_form.html.twig', {'button_label': 'Actualizar'}) }}
{% endblock %}

{% block _body_tools %}
    {{ action.btn_print_link_ico(path('ficha_evaluacion_index')) }}
{% endblock %}

{% block _main_footer %}
    {{ action.btn_print_link(path('ficha_evaluacion_index')) }}
{% endblock %}

{% block stylesheets %}
    <style>
        .custom-background-color {
            background-color: #E7E7E7 !important;
        }
    </style>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/select2.js') }}"></script>
    <script src="{{ asset('js/collection.js') }}" type="text/javascript"></script>
    <script>
        let fichaExamenAuxiliarDetalles = document.getElementById('ficha_examen_auxiliar_detalles');
        let jqExamenAuxiliarSelect =  $('#ficha_examen_auxiliar_examenAuxiliar');
        let jqFichaEvaluacionSelect =  $('#ficha_examen_auxiliar_fichaEvaluacion');

        jqExamenAuxiliarSelect.addClass('custom-background-color');
        jqFichaEvaluacionSelect.addClass('custom-background-color');

        function makeSelect2OnlyRead(selectElement) {
            selectElement.on('select2:opening', function(e) {
                e.preventDefault();
            });

            selectElement.select2({
                allowClear: false,
            });
        }

        window.onload = function() {
            Select2();
            Collection.init(fichaExamenAuxiliarDetalles);
            makeSelect2OnlyRead(jqExamenAuxiliarSelect)
            makeSelect2OnlyRead(jqFichaEvaluacionSelect)
        }

    </script>
{% endblock %}
